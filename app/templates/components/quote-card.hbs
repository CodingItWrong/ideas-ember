<PaperCard as |Card|>
  <Card.title as |Title|>
    <Title.text as |Text|>
      <Text.headline>{{@quote.text}}</Text.headline>
      <Text.subhead>
        {{#if (has-block)}}
          {{yield}}
        {{else}}
          {{@quote.source.author.name}},
          {{@quote.source.title}}
        {{/if}}
      </Text.subhead>
    </Title.text>
  </Card.title>
  {{#if this.addingIdea}}
    <Card.content>
      <div>
        <PaperSelect
          @label="Idea"
          @block={{true}}
          @options={{@ideas}}
          @selected={{this.idea}}
          @onChange={{action (mut this.idea)}}
          as |idea|
        >
          {{idea.summary}}
        </PaperSelect>
      </div>
    </Card.content>
  {{/if}}
  <Card.actions>
    {{#if (not @quote.idea)}}
      {{#if this.addingIdea}}
        <PaperButton @onClick={{action (mut this.addingIdea) false}}>
          Cancel
        </PaperButton>
        <PaperButton @onClick={{this.saveIdea}}>
          Save Idea
        </PaperButton>
      {{else}}
        <PaperButton @onClick={{action (mut this.addingIdea) true}}>
          Add Idea
        </PaperButton>
      {{/if}}
    {{/if}}
    <PaperButton @warn={{true}} @onClick={{this.delete}}>
      Delete
    </PaperButton>
  </Card.actions>
</PaperCard>
