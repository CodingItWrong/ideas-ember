<PaperForm @onSubmit={{this.save}} as |Form|>
  <Card.content>
    <Form.input
      @textarea={{true}}
      @block={{true}}
      @placeholder="Quote"
      @value={{this.editedQuoteText}}
      @onChange={{action (mut this.editedQuoteText)}}
      @passThru={{hash autocapitalize="sentences"}}
      data-test-edit-quote-field
    />
    <Form.input
      @textarea={{true}}
      @block={{true}}
      @placeholder="Location (page, timestamp, etc)"
      @value={{this.editedQuoteLocation}}
      @onChange={{action (mut this.editedQuoteLocation)}}
    />
    <Form.input
      @textarea={{true}}
      @block={{true}}
      @placeholder="Comments"
      @value={{this.editedQuoteComments}}
      @onChange={{action (mut this.editedQuoteComments)}}
      @passThru={{hash autocapitalize="sentences"}}
    />
    {{#if this.addingNewIdea}}
      <div class="layout-col layout-gt-xs-row">
        <div class="flex-sm-60 flex-gt-sm-70">
          <Form.input
            @textarea={{true}}
            @block={{true}}
            @placeholder="New Idea"
            @value={{this.newIdeaSummary}}
            @onChange={{action (mut this.newIdeaSummary)}}
            @passThru={{hash autocapitalize="sentences"}}
          />
        </div>
        <div class="flex-sm-40 flex-gt-sm-30">
          <button
            type="button"
            class="btn btn-light"
            {{on "click" this.switchToExistingIdea}}
          >
            Switch to Existing Idea
          </button>
        </div>
      </div>
    {{else}}
      <div class="layout-col layout-gt-xs-row">
        <div class="flex-sm-60 flex-gt-sm-70">
          <PaperSelect
            @block={{true}}
            @label="Existing Idea"
            @options={{@ideas}}
            @selected={{this.idea}}
            @onChange={{action (mut this.idea)}}
            as |idea|
          >
            {{idea.summary}}
          </PaperSelect>
        </div>
        <div class="flex-sm-40 flex-gt-sm-30">
          <button
            type="button"
            class="btn btn-light"
            {{on "click" this.switchToNewIdea}}
          >
            Switch to New Idea
          </button>
        </div>
      </div>
    {{/if}}

    <button
      type="submit"
      class="btn btn-primary text-dark"
      data-test-save-edited-quote-button
    >
      Save
    </button>
    <button
      type="button"
      class="btn btn-danger"
      data-test-delete-quote-button
      {{on "click" this.delete}}
    >
      Delete
    </button>
    <button
      type="button"
      class="btn btn-light"
      data-test-cancel-button
      {{on "click" this.cancelEditing}}
    >
      Cancel
    </button>
  </Card.content>
</PaperForm>
